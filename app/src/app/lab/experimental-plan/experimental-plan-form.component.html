<style>
    .general-info-container {
        display: flex;
        flex-direction: column;
    }

    :host form {
        padding: 0px 2em;
    }
</style>


<div class="main">
    <form [formGroup]="form">
        <div class="general-info-container">
            <h2>General information</h2>

            <mat-card *ngIf="planService.plan$ | async as plan">
                <mat-card-header>
                    <nav mat-tab-nav-bar [tabPanel]="tabPanel"
                        mat-align-tabs="start"
                        mat-stretch-tabs="false">
                        <a mat-tab-link *ngFor="let workUnit of plan.workUnits; let index=index"
                            [routerLink]="['./', 'work-units', index]" routerLinkActive #linkActive="routerLinkActive"
                            [active]="linkActive.isActive">
                            {{workUnit.campus.name}} - {{workUnit.labType}}
                        </a>
                        <div class="spacer" [style.flex-grow]="1"></div>
                        <a mat-tab-link
                            [routerLink]="['./', 'work-units', plan.workUnits.length]"
                            routerLinkActive #linkActive="routerLinkActive"
                            [active]="linkActive.isActive"
                            [disabled]="isAddingWorkUnit(plan)">
                            <mat-icon>+</mat-icon>
                        </a>
                    </nav>
                </mat-card-header>

                <mat-card-content>
                <mat-tab-nav-panel #tabPanel>
                    <router-outlet></router-outlet>
                </mat-tab-nav-panel>
                </mat-card-content>
            </mat-card>
        </div>
    </form>

    <div class="right-pane">
        <div class="form-container">
            <router-outlet name="form"></router-outlet>
        </div>
    </div>
</div>